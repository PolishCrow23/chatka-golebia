---
import type { CollectionEntry } from "astro:content";
import Post from "./Post.astro";
import SectionWrapper from "./SectionWrapper.astro";

type Props = {
    meetups: CollectionEntry<"meetups">[];
    reports: CollectionEntry<"reports">[];
    interventions: CollectionEntry<"interventions">[];
}
const { meetups, reports, interventions } = Astro.props;

const sortedPosts = [...reports, ...meetups, ...interventions].sort((a, b) =>
  new Date(b.data.pubDate).valueOf() - new Date(a.data.pubDate).valueOf()
);
---

<SectionWrapper 
    title="Aktualności"
    showMoreText="Pokaż wszystkie aktualności"
    showMoreHref="/aktualnosci"
>
    {sortedPosts.slice(0, 3).map((post) => <Post item={post} />)}
</SectionWrapper>