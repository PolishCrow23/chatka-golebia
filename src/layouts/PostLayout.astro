---
import type { CollectionEntry } from 'astro:content';
import BaseHead from "../components/essentials/BaseHead.astro";
import Header from "../components/essentials/Header.astro";
import Footer from "../components/essentials/Footer.astro";
import PiwikPro from "../components/essentials/PiwikPro.astro";
import "../styles/slotwrapper.css"
import FormattedDate from "../components/essentials/FormattedDate.astro";

const { title, author, description, pubDate, photos } = Astro.props;
// type Props = CollectionEntry<'reports'>['data'];
---

<html lang="en">
	<head>
        <BaseHead title={title} description={description} date={pubDate}/>
    </head>
    <body>
        <PiwikPro />
        <Header />
        <main>
            <div class = "post">
                <div class = "title">
                    <h1>{title}</h1>
                     <div class="date-author">
                        <span class="date">Opublikowano <FormattedDate date={pubDate}/></span>
                        <a class="author-link" href="/o-nas"><span class="author">{author}</span></a>
                     </div>
                </div>
                <div class="slot-wrapper">
                    <slot />
                </div>
                {photos && (
                    <span class="photos">
                        <span class="accent">Fot.</span> {photos}
                    </span>
                )}
            </div>
        </main>
        <Footer />
    </body>

<style>
    .post {
        max-width: 720px;
        margin-inline: auto;
}

    main {
        padding-block: 4em 8em;
        padding-inline: 2%;

        background-color: var(--cream);
    }

    .title {
        margin-block: 0.6em 5em;
    }

    .post h1 {
        text-align: center;
        font-size: 3.6rem;
        color: var(--dark-plum);
        margin-bottom: 0.8em;
        font-family: 'Ubuntu Condensed';
        line-height: 1.6;
    }

    .date-author {
        display: flex;
        flex-direction: column;
        align-items: end;
    }

    .sources-images {
        margin-block: 3em;
    }

    .sources, .images {
        display: block;
        margin-block: 0.5em;
    }

    .date {
        margin-bottom: 0.5em;
        color: #59565a;
        font-weight: 300;
    }

    .date, .author {
        font-family: "Poppins";
        font-size: 1.6rem; 
    }

    .author-link {
        color: var(--lavender);
        font-weight: 500;
    }

    .author-link:hover {
        color: var(--light-lavender);
    }


    .photos {
        display: block;
        font-size: 1.8rem;
    }

    .accent {
        font-weight: bold;
    }

    @media  (min-width: 760px) {
        .post h1 {
        font-size: 4.2rem;
    }
}
</style>
